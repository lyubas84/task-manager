<!-- Task Card Component -->
<p-card [styleClass]="'mx-1 my-3 border-round-2xl'" p-card-content="padding: 0">
    <div class="m-0 p-0">
        <!-- Task Header: Icon and Title -->
        <div class="flex justify-content-between align-items-center">
            <p>
                <!-- Task icon -->
                <i [ngClass]="getTaskIconClass(task)" class="mr-2"></i>
                <!-- Task title -->
                <span class="font-semibold">{{task.title}}</span>
            </p>
            <p>
                <!-- Edit Task Icon -->
                <i class="pi pi-pencil mr-3 text-green-500 cursor-pointer" (click)="modifyTask(task)"></i>
                <!-- Delete Task Icon -->
                <i class="pi pi-trash text-red-600 cursor-pointer" (click)="deleteTask($event, task)"></i>
            </p>
        </div>
        <!-- Task description -->
        <div class="mb-3">
            <p class="m-0">{{task.description}}</p>
        </div>
        <!-- Task Details: Priority and Status -->
        <div>
            <!-- Task priority -->
            <p-chip label="{{task.priority}}" [styleClass]="getTaskPriorityClass(task)" class="mr-2"></p-chip>
            <!-- Task status -->
            <p-chip label="{{task.status}}" [styleClass]="getTaskStatusClass(task)"></p-chip>
        </div>
        <!-- Task Footer: Assigned To and Created At -->
        <div class="mt-3 flex justify-content-between align-items-center">
            <!-- Assigned To with Avatar -->
            <p-chip label="{{task.asignedTo}}" image="{{findAvatar(task.asignedTo)}}"></p-chip>
            <!-- Task Creation Date -->
            <span>{{task.createdAt | date: 'dd MMM yyyy'}}</span>
        </div>
    </div>
</p-card>

<!-- Toast Notifications -->
<p-toast></p-toast>
<!-- Confirmation Popup -->
<p-confirmPopup></p-confirmPopup>

<!-- Modify Task Dialog -->
<p-dialog header="Modify Task" [visible]="taskService.showTaskForm.getValue()" 
    [modal]="true" [style]="{ width: '50vw', height: '75vh'}" 
    [draggable]="false" [resizable]="false" [closable]="false">
    <!-- Task Form Component -->
    <app-task-form></app-task-form>
</p-dialog>